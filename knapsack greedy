#include <stdio.h>
int main() {
int n, i, j;
float weight[20], profit[20], ratio[20], capacity, totalProfit = 0, temp;
printf("Enter number of items: ");
scanf("%d", &n);
printf("Enter weight and profit for each item:\n");
for (i = 0; i < n; i++) {
printf("Item %d Weight: ", i + 1);
scanf("%f", &weight[i]);
printf("Item %d Profit: ", i + 1);
scanf("%f", &profit[i]);
ratio[i] = profit[i] / weight[i];
}
printf("Enter knapsack capacity: ");
scanf("%f", &capacity);
for (i = 0; i < n; i++) {
for (j = i + 1; j < n; j++) {
if (ratio[i] < ratio[j]) {
temp = ratio[i];
ratio[i] = ratio[j];
ratio[j] = temp;
temp = weight[i];
weight[i] = weight[j];
weight[j] = temp;
temp = profit[i];
profit[i] = profit[j];
profit[j] = temp;
}
}
}
float x[20]; // Fraction of items taken
for (i = 0; i < n; i++)
x[i] = 0.0;
float remain = capacity;
for (i = 0; i < n; i++) {
if (weight[i] > remain)
break;
else {
x[i] = 1.0;
totalProfit += profit[i];
remain -= weight[i];
}
}
if (i < n)
x[i] = remain / weight[i];
totalProfit += x[i] * profit[i];
printf("\nItem\tWeight\tProfit\tTaken");
for (i = 0; i < n; i++)
printf("\n%d\t%.2f\t%.2f\t%.2f", i + 1, weight[i], profit[i], x[i]);
printf("\n\nTotal profit = %.2f\n", totalProfit);
return 0;
}
